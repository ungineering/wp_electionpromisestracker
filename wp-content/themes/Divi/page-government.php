<?php
/*
  Template Name: government_template
 */
get_header();
?>

<style id="theme-customizer-css">
a { color: #1e73be; }
#main-header .nav li ul { background-color: ; }
.et_header_style_centered .mobile_nav .select_page, .et_header_style_split .mobile_nav .select_page, 
.et_nav_text_color_light #top-menu > li > a, .et_nav_text_color_dark #top-menu > li > a, #top-menu a, 
.et_mobile_menu li a, .et_nav_text_color_light .et_mobile_menu li a, .et_nav_text_color_dark .et_mobile_menu
li a, #et_search_icon:before, .et_search_form_container input, span.et_close_search_field:after, 
#et-top-navigation .et-cart-info { color: ; }
.et_search_form_container input::-moz-placeholder { color: ; }
.et_search_form_container input::-webkit-input-placeholder { color: ; }
.et_search_form_container input:-ms-input-placeholder { color: ; }
#top-menu li a { font-size: 16px; }
body.et_vertical_nav .container.et_search_form_container .et-search-form input 
{ font-size: 16px !important;}
#main-footer { background-color: #f9f9f9; }
#footer-info, #footer-info a { font-weight: bold; font-style: normal; text-transform: none; 
text-decoration: none;  }
body .et_pb_button, .woocommerce a.button.alt, .woocommerce-page a.button.alt,
.woocommerce button.button.alt, .woocommerce-page button.button.alt, .woocommerce input.button.alt,
.woocommerce-page input.button.alt, .woocommerce #respond input#submit.alt,
.woocommerce-page #respond input#submit.alt, .woocommerce #content input.button.alt,
.woocommerce-page #content input.button.alt, .woocommerce a.button, .woocommerce-page a.button, 
.woocommerce button.button, .woocommerce-page button.button, .woocommerce input.button,
.woocommerce-page input.button, .woocommerce #respond input#submit,
.woocommerce-page #respond input#submit, .woocommerce #content input.button,
.woocommerce-page #content input.button, .woocommerce-message a.button.wc-forward
{ font-size: 14px; border-radius: 1px; }
body.et_pb_button_helper_class .et_pb_button,
.woocommerce.et_pb_button_helper_class a.button.alt, .woocommerce-page.et_pb_button_helper_class a.button.alt, .woocommerce.et_pb_button_helper_class button.button.alt, .woocommerce-page.et_pb_button_helper_class button.button.alt, .woocommerce.et_pb_button_helper_class input.button.alt, .woocommerce-page.et_pb_button_helper_class input.button.alt, .woocommerce.et_pb_button_helper_class #respond input#submit.alt, .woocommerce-page.et_pb_button_helper_class #respond input#submit.alt, .woocommerce.et_pb_button_helper_class #content input.button.alt, .woocommerce-page.et_pb_button_helper_class #content input.button.alt,
.woocommerce.et_pb_button_helper_class a.button, .woocommerce-page.et_pb_button_helper_class a.button, .woocommerce.et_pb_button_helper_class button.button, .woocommerce-page.et_pb_button_helper_class button.button, .woocommerce.et_pb_button_helper_class input.button, .woocommerce-page.et_pb_button_helper_class input.button, .woocommerce.et_pb_button_helper_class #respond input#submit, .woocommerce-page.et_pb_button_helper_class #respond input#submit, .woocommerce.et_pb_button_helper_class #content input.button, .woocommerce-page.et_pb_button_helper_class #content input.button {}
body .et_pb_button:after,
.woocommerce a.button.alt:after, .woocommerce-page a.button.alt:after, .woocommerce button.button.alt:after, .woocommerce-page button.button.alt:after, .woocommerce input.button.alt:after, .woocommerce-page input.button.alt:after, .woocommerce #respond input#submit.alt:after, .woocommerce-page #respond input#submit.alt:after, .woocommerce #content input.button.alt:after, .woocommerce-page #content input.button.alt:after, .woocommerce a.button:after, .woocommerce-page a.button:after, .woocommerce button.button:after, .woocommerce-page button.button:after, .woocommerce input.button:after, .woocommerce-page input.button:after, .woocommerce #respond input#submit:after, .woocommerce-page #respond input#submit:after, .woocommerce #content input.button:after, .woocommerce-page #content input.button:after { font-size: 22.4px; }
body .et_pb_button:hover,
.woocommerce a.button.alt:hover, .woocommerce-page a.button.alt:hover, .woocommerce button.button.alt:hover, .woocommerce-page button.button.alt:hover, .woocommerce input.button.alt:hover, .woocommerce-page input.button.alt:hover, .woocommerce #respond input#submit.alt:hover, .woocommerce-page #respond input#submit.alt:hover, .woocommerce #content input.button.alt:hover, .woocommerce-page #content input.button.alt:hover,
.woocommerce a.button:hover, .woocommerce-page a.button:hover, .woocommerce button.button:hover, .woocommerce-page button.button:hover, .woocommerce input.button:hover, .woocommerce-page input.button:hover, .woocommerce #respond input#submit:hover, .woocommerce-page #respond input#submit:hover, .woocommerce #content input.button:hover, .woocommerce-page #content input.button:hover
{ border-radius: 1px; }
@media only screen and ( min-width: 981px ) {
    td.promise__actions { width: 150px; } /*CSS Added to fix moving of columns during "Discuss" button hover. */
.et_header_style_centered.et_hide_primary_logo #main-header:not(.et-fixed-header) .logo_container, .et_header_style_centered.et_hide_fixed_logo #main-header.et-fixed-header .logo_container { height: 11.88px; }
.et-fixed-header #top-menu a, .et-fixed-header #et_search_icon:before, .et-fixed-header #et_top_search .et-search-form input, .et-fixed-header .et_search_form_container input, .et-fixed-header .et_close_search_field:after, .et-fixed-header #et-top-navigation .et-cart-info { color:  !important; }
.et-fixed-header .et_search_form_container input::-moz-placeholder { color:  !important; }
.et-fixed-header .et_search_form_container input::-webkit-input-placeholder { color:  !important; }
.et-fixed-header .et_search_form_container input:-ms-input-placeholder { color:  !important; }
}
@media only screen and ( min-width: 1350px) {
.et_pb_row { padding: 27px 0; }
.et_pb_section { padding: 54px 0; }
.single.et_pb_pagebuilder_layout.et_full_width_page .et_post_meta_wrapper { padding-top: 81px; }
.et_pb_section.et_pb_section_first { padding-top: inherit; }
.et_pb_fullwidth_section { padding: 0; }
}
@media only screen and ( max-width: 980px ) {}
@media only screen and ( max-width: 767px ) {}
</style>

<style type="text/css" id="wp-custom-css">
            /*Division for making columns like in bootstrap*/

.ten-columns .et_pb_module {width: 10%; float: left;}
.nine-columns .et_pb_module {width: 11.11%; float: left;}
.eight-columns .et_pb_module {width: 12.5%; float: left;}
.seven-columns .et_pb_module {width: 14.28%; float: left;}
.six-columns .et_pb_module {width: 16.66%; float: left;}
.five-columns .et_pb_module {width: 20%; float: left;}


/*HTML CSS BUTTONS -> FOR STATUS*/

.status_button > :last-child {
    padding-bottom: 10px;
}
.status_button {
    background-color: #4b6baa;
    color: white;
    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.5);
    border-radius: 2px;
    cursor: pointer;
    border: 1px solid transparent;
    padding: 10px;
    margin: 5px;
    font-size: 14px;
}
.status_button:hover {
  font-weight: bold;
  background-color: white;
  color: black;
 -webkit-transition-duration: 0.3s;
    transition-duration: 0.3s;
}

.et_pb_tab {
    padding: 0px 0px;
}

    ul.ds-social-follow.et_pb_social_media_follow {
        text-align: right;
    }
    .ds-social-follow.et_pb_social_media_follow li {
        float: none;
        display: inline-block;
    }

@media 
only screen and (max-width: 760px),
(min-device-width: 768px) and (max-device-width: 1024px)  {
 table {
    border: 0;
  }
  table caption {
    font-size: 1.3em;
  }
  table thead {
    border: none;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
  table tr {
    border-bottom: 3px solid #ddd;
    display: block;
  /*  margin-bottom: .625em;*/
  }
  table td {
    border-bottom: 1px solid #ddd;
    display: block;
    font-size: .8em;
    text-align: right;
  }
  table td:before {
    /*
    * aria-label has no advantage, it won't be read inside a table
    content: attr(aria-label);
    */
    content: attr(data-label);
    float: left;
    font-weight: bold;
    text-transform: uppercase;
  }
  table td:last-child {
    border-bottom: 0;
  }
  td:nth-of-type(1):before { content: "SNo"; }
  td:nth-of-type(2):before { content: "Status ";}
  td:nth-of-type(3):before { content: "Category"; }
  td:nth-of-type(4):before { content: "Promise"; }
  td:nth-of-type(5):before { content: "Action"; }
}       </style>


<script type="text/javascript">
    /*Function makeActive is used to fix the functioning of the tabs. et_pb_tab_active class added*/
    function makeActive(tabNumber, totalTabs){
        var i;
        for(i = 0; i <= totalTabs; i++) {
            $('.et_pb_tabs_controls li.et_pb_tab_'+ i).removeClass('et_pb_tab_active');
        }
        $('.et_pb_tabs_controls li.et_pb_tab_'+ tabNumber).addClass('et_pb_tab_active');
    }
    /*The following is done to remove redundant classes and add the needed ones.*/
    (function($) {
        $(window).load(function() {
            $('body').removeClass('page-template-page-government-php');
            $('body').removeClass('page-template-page-government');
            $('body').removeClass('page-template');
            $('body').addClass('page-template-default');
            $('body').addClass('et_pb_pagebuilder_layout');
        });
    })(jQuery);
</script>
<!-- The above piece of JavaScript doesn't work as it should. Update: Using an IIFE made the script work. -->
<!-- HEAD AND HEADER SECTION COMBINED COMPLETELY -->

<script type="text/javascript">
    var inaugration_date = "<?php echo get_post_meta(get_the_ID(), 'inaugration_date', true) ?>";
</script>

<?php
$page_title = $wp_query->post->post_title;
$flag = get_post_meta(get_the_ID(), 'flag', true);
$categories = get_post_meta(get_the_ID(), 'categories', true);
$party_name = get_post_meta(get_the_ID(), 'party_name', true);
$twitter_template = get_post_meta(get_the_ID(), 'twitter_template', true);
$facebook_template = get_post_meta(get_the_ID(), 'facebook_template', true);

$icons = array("First 100 Days" => "clock-o",
    "Culture" => "music",
    "Economy" => "rupee",
    "Environment" => "leaf",
    "Governance" => "university",
    "Immigration" => "suitcase",
    "Indigenous" => "users",
    "Security" => "fighter-jet",
    "Health" => "heart",
    "Business and Industries" => "globe",
    "Agriculture" => "tree",
    "Education" => "graduation-cap",
    "School Education" => "graduation-cap",
    "Pre-Primary Education" => "graduation-cap",
    "College Education" => "graduation-cap",
    "Flagship Promises"=>"star",
    "Water"=>"bars"
);
$statuses = array(
    "Fulfilled" => array(
        "color" => "rgba(67, 207, 8, 0.23)",
        "color_bright" => "rgba(67, 207, 8, 0.62)",
        "icon" => "check-circle-o",
        "id" => "fulfilled",
        "old" => "success",
        "icon_hex" => "&#xe052;"
    ),
    "Adequate Progress" => array(
        "color" => "rgb(204, 221, 232)",
        "color_bright" => "rgb(153, 204, 237)",
        "icon" => "cogs",
        "id" => "aprogress",
        "old" => "warning",
        "icon_hex" => "&#xe038;"
    ),
    "Inadequate Progress" => array(
        "color" => "rgba(141, 153, 161, 0.56)",
        "color_bright" => "rgba(141, 153, 161, 0.63)",
        "icon" => "cog",
        "id" => "iprogress",
        "old" => "info",
        "icon_hex" => "&#xe037;"
    ),
    "Yet to Start" => array(
        "color" => "rgba(182, 46, 194, 0.17)",
        "color_bright" => "rgba(182, 46, 194, 0.45)",
        "icon" => "hourglass-start",
        "id" => "ytstart",
        "old" => "compromised",
        "icon_hex" => "&#xe0e1;"
    ),
    "Stalled" => array(
        "color" => "rgba(246, 187, 55, 0.33)",
        "color_bright" => "rgba(246, 187, 55, 0.73)",
        "icon" => "handshake-o",
        "id" => "stalled",
        "old" => "danger",
        "icon_hex" => "&#xe0e1;"
    ),
    "Broken" => array(
        "color" => "rgba(217, 83, 79, 0.4)",
        "color_bright" => "rgba(219, 96, 93, 0.82)",
        "icon" => "ban",
        "id" => "broken",
        "old" => "danger",
        "icon_hex" => "&#xe02e;"
    )
);
if ($flag) {
    $cats = array("Education", "Health", "Economy", "Business and Industries", "Governance", "Agriculture");
    $globalIdx = 6;
} else {
    $cats = array("Flagship Promises", "Education","Health", "Water");
    $globalIdx = 4;
}

//$cats = explode(',', $categories);
?>

<script type="text/javascript">
    var totalPromises = <?php echo $globalIdx; ?>;
</script>


<?php
$total_promises = 0;
$loop = new WP_Query(array('post_type' => 'promise', 'category_name' => $page_title, 'ignore_sticky_posts' => 1, 'posts_per_page' => -1, 'paged' => $paged));
if ($loop->have_posts()) :
    while ($loop->have_posts()) :
        $loop->the_post();
        ?>
        <?php
        $status_promises_count[get_post_meta(get_the_ID(), 'status', true)] ++;
        $total_promises++;
        ?>
        <?php
    endwhile;
endif;
wp_reset_postdata();
?>

<!-- <div class="container promises-header page-header" id="promises-header"> -->
<div id="main-content">
    <!-- <div class="row"> -->
                    <div class="entry-content">
                    <div class="et_pb_section  et_pb_section_0 et_pb_with_background et_section_regular">
                    <div class=" et_pb_row et_pb_row_0 et_pb_row_fullwidth">
                    <div class="et_pb_column et_pb_column_1_2  et_pb_column_0">
                
                <div class="et_pb_blurb et_pb_module et_pb_bg_layout_light et_pb_text_align_left  et_pb_blurb_0 et_pb_blurb_position_left">
                <div class="et_pb_blurb_content">
                    <div class="et_pb_main_blurb_image"><span class="et-pb-icon et-waypoint et_pb_animation_top" style="color: rgba(0,0,0,0.76);">&#x37;</span></div>
                    <div class="et_pb_blurb_container">
                        <h4><?php echo $party_name ?>'s Days in <?php the_title() ?>: <span id="days-in-office"><i class='loading'>Loading...</i></span> </h4>
                    </div>
                </div> <!-- .et_pb_blurb_content -->
            </div> <!-- .et_pb_blurb -->
            <?php 
                $index = 0;
            foreach(array_keys($statuses) as $key): ?>
                <?php 
                    $index = $index + 1;
                    $status_name = $key;
                    $status_data = $statuses[$key];
                ?>
                <div class="et_pb_blurb et_pb_module et_pb_bg_layout_light et_pb_text_align_left et_pb_blurb_<?php echo $index ?> et_pb_blurb_position_left"  data-list-facet="js-promise-status" data-facet-value="<?php echo $status_name ?>" data-select-single="true">
                    <div class="et_pb_blurb_content">
                        <div class="et_pb_main_blurb_image"><span class="et-pb-icon et-waypoint et_pb_animation_top" style="color: rgba(0,0,0,0.76);"><?php echo $status_data['icon_hex']?></span></div>
                        <div class="et_pb_blurb_container">
                            <h4><?php echo $status_name ?>:
                                <?php
                                    if($status_promises_count[$status_name]) {
                                        echo $status_promises_count[$status_name];
                                    } else {
                                        echo "0";
                                    }
                                ?>
                                of <?php echo $total_promises ?>
                            </h4>
                        </div>
                    </div>
                </div>
                <?php endforeach; ?>
            </div> <!-- .et_pb_column -->

            <!-- The above is the stack on the left side of page showing the number of promises as x out of y-->

        <div class="et_pb_column et_pb_column_1_2  et_pb_column_1">
            <div class="et_pb_text et_pb_module et_pb_bg_layout_light et_pb_text_align_left  et_pb_text_0">
            <p style="text-align: justify;"> <?php echo $wp_query->post->post_content ?> </p>
        </div>
        </div>
    </div>
<!-- Social -->
<div class=" et_pb_row et_pb_row_1">
                
                
                <div class="et_pb_column et_pb_column_1_4  et_pb_column_2">
                
                <div class="et_pb_text et_pb_module et_pb_bg_layout_light et_pb_text_align_right  et_pb_text_1">
                
<p>Share this page on:</p>

            </div> <!-- .et_pb_text -->
            </div> <!-- .et_pb_column --><div class="et_pb_column et_pb_column_1_4  et_pb_column_3">
                
                <ul class="et_pb_social_media_follow et_pb_module et_pb_bg_layout_dark ds-social-follow et_pb_social_media_follow_0 clearfix">
                
<li class="et_pb_social_icon et_pb_social_network_link et-social-facebook et_pb_social_media_follow_network_0">
                <a href="https://www.facebook.com/sharer.php?u=<?php the_permalink() ?>" 
                    target="_blank" class="icon rounded_rectangle" title="Facebook" style="background-color: #3b5998;" 
                    onclick="window.open(this.href, 'targetWindow', 'toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=250'); return false"><span>Facebook</span></a>
                
            </li><li class="et_pb_social_icon et_pb_social_network_link et-social-twitter et_pb_social_media_follow_network_1">
                <a href="https://twitter.com/share?url=<?php the_permalink() ?>;text=Track&nbsp;&commat;<?php echo $party_name ?>&apos;s&nbsp;Electoral&nbsp;Promises&nbsp;with&nbsp;Election&nbsp;Promises&nbsp;Tracker." 
                    target="_blank" class="icon rounded_rectangle" title="Twitter" style="background-color: #00aced;" 
                    onclick="window.open(this.href, 'targetWindow', 'toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=250'); return false"><span>Twitter</span></a>
            </li>

            </ul> <!-- .et_pb_counters -->
            </div> <!-- .et_pb_column --><div class="et_pb_column et_pb_column_1_4  et_pb_column_4 et_pb_column_empty">
                
                
            </div> <!-- .et_pb_column --><div class="et_pb_column et_pb_column_1_4  et_pb_column_5 et_pb_column_empty">
                
                
            </div> <!-- .et_pb_column -->
            </div> <!-- .et_pb_row -->

</div>
<div class="promises" id="promises">

            <div class="et_pb_section  et_pb_section_1 et_section_regular">
                
                
                    
                    <div class=" et_pb_row et_pb_row_2 et_pb_row_fullwidth">
                
                <div class="et_pb_column et_pb_column_1_2  et_pb_column_6">
                
                <div class="et_pb_text et_pb_module et_pb_bg_layout_light et_pb_text_align_left  et_pb_text_2">
                
<h2 style="display: inline;"><strong>Promises made</strong></h2>

            </div> <!-- .et_pb_text -->
            </div> <!-- .et_pb_column -->


<!-- <div class="promises" id="promises"> -->
<div class="et_pb_column et_pb_column_1_2  et_pb_column_7">
                
                <div class="et_pb_search et_pb_module et_pb_bg_layout_light et_pb_text_align_left  et_pb_search_0">
                <form role="search" method="get" class="et_pb_searchform" action="#">
                    <div>
                        <label class="screen-reader-text" for="s">Search for:</label>
                        <input type="text" value="" id="search" name="s" class="et_pb_s search" placeholder="Search any promise by words">
                        <!-- <input type="hidden" name="et_pb_searchform_submit" value="et_search_proccess" /> -->
                        
                        <!-- <input type="hidden" name="et_pb_include_posts" value="yes" /> -->
                        <!-- <input type="hidden" name="et_pb_include_pages" value="yes" /> -->
                        <!-- <input type="submit" value="Search" class="et_pb_searchsubmit"> -->
                    </div>
                </form>
            </div> <!-- .et_pb_text -->
            </div> <!-- .et_pb_column -->
            </div> <!-- .et_pb_row -->
        </div>

<!-- <div class="container-fluid promises" id="promises"> -->
<div class=" et_pb_row et_pb_row_3">

<div class="et_pb_column et_pb_column_4_4  et_pb_column_8">
                
        <div class="et_pb_text et_pb_module et_pb_bg_layout_light et_pb_text_align_left responsive et_pb_text_3">
                
            <p> 
                <button class="status_button promises__category--reset" type="button" onclick="makeActive(0, <?php echo $globalIdx; ?>);">View All Promises</button>

            <?php foreach (array_keys($statuses) as $key): ?>
                <?php 
                $status_name = $key;
                $status_data = $statuses[$key];
                 ?>
                 <button class="status_button btn-<?php echo $status_data['id'] ?>" data-list-facet="js-promise-status" data-facet-value="<?php echo $status_name ?>" data-select-single="true" type="button"><?php echo $status_name; ?></button>
             <?php endforeach; ?>
            </p>

            </div> <!-- .et_pb_text -->
            <div class="et_pb_text et_pb_module et_pb_bg_layout_light et_pb_text_align_left  et_pb_text_4">
<p><strong>Select categories to see the promises made by Delhi Government</strong></p>
</div> <!-- .et_pb_text -->
<div class="et_pb_module et_pb_tabs table-responsive et_pb_tabs_0">
                <ul class="et_pb_tabs_controls clearfix" id="myTabs" role="tablist">
                <li class="et_pb_tab_0 et_pb_tab_active promises__category--removeCategory" onclick="makeActive(0, <?php echo $globalIdx; ?>);"><a href="#">All Categories</a></li>
                <?php $index = 1; ?>
                    <?php foreach ($cats as $cat): ?>
                    <li id="mytab_<?php echo $index; ?>" role="presentation" data-list-facet="js-promise-category" data-facet-value="<?php echo $cat ?>" class="et_pb_tab_<?php echo $index; ?> <?php echo $cat; ?>"  data-select-single="true" onclick="makeActive(<?php echo $index; ?>, <?php echo $globalIdx; ?>);">
                        <a href="#" role="tab" data-toggle="tab" class="text-muted">
                            <span><?php echo $cat; ?></span>
                        </a>
                    </li>
                <?php $index = $index + 1; ?>
                <?php endforeach; ?>
                </ul>

            <div>

    <div class="et_pb_tab clearfix et_pb_active_content et_pb_tab_0 et_pb_tab_1 et_pb_tab_2 et_pb_tab_3 et_pb_tab_4">
        <div class="table-responsive">
            <table class="table">
                <thead>
                    <tr>
                        <th>SNo</th>
                        <th>Status</th>
                        <th>Category</th>
                        <th>Promise</th>
                        <th>Action</th>
                    </tr>
                </thead>
                    <tbody class="list">
                    <!-- add color to each policy -->
                    <?php
                    $index = 0;
                    $loop = new WP_Query(array('post_type' => 'promise', 'category_name' => $page_title, 'ignore_sticky_posts' => 1, 'posts_per_page' => -1, 'paged' => $paged));
                    if ($loop->have_posts()) :
                        while ($loop->have_posts()) :
                            $loop->the_post();
                            ?>

                            <?php
                            $status = get_post_meta(get_the_ID(), 'status', true);
                            $title = get_post_meta(get_the_ID(), 'title', true);
                            $category = get_post_meta(get_the_ID(), 'category', true);
                            $comment_count = $wp_query->post->comment_count;
                            ?>

                            <tr class="promise <?php echo $statuses[$status]['id'] ?> " style="background-color:<?php echo $statuses[$status]['color'] ?> ">

                                <td class="promise__id"><?php echo ++$index ?>.</td>

                                <td class="promise__status" title="<?php echo $status ?>">
                                    <span class="et-pb-icon" style="font-size: 16px;"><?php echo $statuses[$status]['icon_hex']; ?></span>
                                    
                                </td>
                                <td class="promise__category" style="white-space: nowrap;">
                                    <span class="js-promise-category"><?php echo $category; ?></span>
                                </td>

                                <td class="promise__title js-promise-text" style="text-align: justify;">
                                
                                    <span class="promise__status-text js-promise-status sr-only"><?php echo $status; ?></span>
                                    <b>
                                        <a href="<?php the_permalink(); ?>" target="_blank" style="color:#333; text-decoration: none;"><?php the_title() ?> </a>
                                    </b>
                                </td>
                                <td class="promise__actions">
                                    <?php
                                    $variables = array("*promise_status*", "*promise_title*");
                                    ob_start();
                                    the_permalink();
                                    $url = ob_get_clean();
                                    $constants = array($status, $title);
                                    $twitter_text = str_replace($variables, $constants, $twitter_template);
                                    $facebook_text = str_replace($variables, $constants, $facebook_template);
                                    ?>
                                    <a href="<?php the_permalink(); ?>" title="Discuss" class="et_pb_button" role="button" target="_blank">Discuss</a>
                                </td>
                            </tr>
                            <?php
                        endwhile;

                        if ($loop->max_num_pages > 1) :
                            ?>
                        <div id="nav-below" class="navigation">
                            <div class="nav-previous">
                                <?php next_posts_link(__('<span class="meta-nav">&larr;</span> Previous', 'domain')); ?>
                            </div>
                            <div class="nav-next">
                                <?php previous_posts_link(__('Next <span class="meta-nav">&rarr;</span>', 'domain')); ?>
                            </div>
                        </div>
                        <?php
                    endif;
                endif;
                wp_reset_postdata();
                ?>
                </tbody>
                </table>
        </div>
    </div>


</div>


            <!-- </div> -->
    </div>
</div>
</div>
</div>
</div>
    </div>
    <style type="text/css" id="et-builder-advanced-style">
                
.et_pb_blurb_6 .et-pb-icon { font-size: 16px; }
.et_pb_text_0 h1 { font-size: 14px; }
.et_pb_text_0.et_pb_text { color: #000000 !important; }
.et_pb_section_0.et_pb_section { background-color:#eaeaea !important; padding-top: 10px; padding-bottom: 10px; }
.et_pb_blurb_6.et_pb_blurb { font-size: 1px; line-height: 1em; background-color: rgba(217,83,79,0.4); border: 1px solid #dbdbdb ; padding-top: 14px !important; padding-right: 0px !important; padding-bottom: 10px !important; padding-left: 10px !important;margin-top: -2px !important; margin-right: 0px !important; margin-bottom: -1px !important; margin-left: 0px !important; }
.et_pb_blurb_6.et_pb_blurb p { line-height: 1em; }
.et_pb_blurb_5.et_pb_blurb { font-size: 1px; line-height: 1em; background-color: rgba(246,187,55,0.33); border: 1px solid #dbdbdb ; padding-top: 14px !important; padding-right: 0px !important; padding-bottom: 10px !important; padding-left: 10px !important;margin-top: -2px !important; margin-right: 0px !important; margin-bottom: -1px !important; margin-left: 0px !important; }
.et_pb_blurb_5 .et-pb-icon { font-size: 16px; }
.et_pb_blurb_6.et_pb_blurb h4, .et_pb_blurb_6.et_pb_blurb h4 a { font-size: 14px; }
ul.et_pb_social_media_follow_0 { align: right; }
.et_pb_section_1.et_pb_section { padding-top: 10px; padding-bottom: 10px; }
.et_pb_search_0.et_pb_search input.et_pb_searchsubmit { min-height: 0 !important; top: ; right: 0px; bottom: ; }
.et_pb_text_3 { text-align: center; }
.et_pb_text_4 { margin-bottom: 10px !important; }
.et_pb_tabs_0.et_pb_tabs .et_pb_tabs_controls li, .et_pb_tabs_0.et_pb_tabs .et_pb_tabs_controls li a { font-family: 'Arial', Helvetica, Arial, Lucida, sans-serif; }
.et_pb_search_0 input.et_pb_s { margin-left: 0px !important; height: auto; min-height: 0; }
.et_pb_text_2 { line-height: 3px; margin-top: 6px !important; }
.et_pb_row_2 { border-bottom: 1px solid #B0BEC5; }
.et_pb_row_2.et_pb_row { padding-bottom: 10px; }
.et_pb_text_2 p { line-height: 3px; }
.et_pb_blurb_5.et_pb_blurb p { line-height: 1em; }
.et_pb_row_1.et_pb_row { padding-top: 0px; padding-bottom: 0px; }
.et_pb_blurb_1.et_pb_blurb h4, .et_pb_blurb_1.et_pb_blurb h4 a { font-size: 14px; }
.et_pb_blurb_1.et_pb_blurb p { line-height: 1em; }
.et_pb_blurb_1 .et-pb-icon { font-size: 16px; }
.et_pb_blurb_2.et_pb_blurb h4, .et_pb_blurb_2.et_pb_blurb h4 a { font-size: 14px; }
.et_pb_blurb_0 .et-pb-icon { font-size: 16px; }
.et_pb_blurb_0.et_pb_blurb { font-size: 1px; line-height: 1em; background-color: rgba(255,255,255,0.44); border: 1px solid #dbdbdb ; padding-top: 14px !important; padding-right: 0px !important; padding-bottom: 10px !important; padding-left: 10px !important;margin-top: -1px !important; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 0px !important; }
.et_pb_blurb_0.et_pb_blurb h4, .et_pb_blurb_0.et_pb_blurb h4 a { font-weight: bold;font-size: 14px; }
.et_pb_blurb_5.et_pb_blurb h4, .et_pb_blurb_5.et_pb_blurb h4 a { font-size: 14px; }
.et_pb_blurb_0.et_pb_blurb p { line-height: 1em; }
.et_pb_blurb_2.et_pb_blurb p { line-height: 1em; }
.et_pb_blurb_1.et_pb_blurb { font-size: 1px; line-height: 1em; background-color: rgba(67,207,8,0.23); border: 1px solid #dbdbdb ; padding-top: 14px !important; padding-right: 0px !important; padding-bottom: 10px !important; padding-left: 10px !important;margin-top: -1px !important; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 0px !important; }
.et_pb_blurb_4.et_pb_blurb h4, .et_pb_blurb_4.et_pb_blurb h4 a { font-size: 14px; }
.et_pb_blurb_4.et_pb_blurb p { line-height: 1em; }
.et_pb_blurb_2.et_pb_blurb { font-size: 1px; line-height: 1em; background-color: #ccdde8; border: 1px solid #dbdbdb ; padding-top: 14px !important; padding-right: 0px !important; padding-bottom: 10px !important; padding-left: 10px !important;margin-top: -2px !important; margin-right: 0px !important; margin-bottom: -1px !important; margin-left: 0px !important; }
.et_pb_blurb_4 .et-pb-icon { font-size: 16px; }
.et_pb_blurb_3 .et-pb-icon { font-size: 16px; }
.et_pb_blurb_4.et_pb_blurb { font-size: 1px; line-height: 1em; background-color: rgba(182,46,194,0.17); border: 1px solid #dbdbdb ; padding-top: 14px !important; padding-right: 0px !important; padding-bottom: 10px !important; padding-left: 10px !important;margin-top: -1px !important; margin-right: 0px !important; margin-bottom: -1px !important; margin-left: 0px !important; }
.et_pb_blurb_3.et_pb_blurb { font-size: 1px; line-height: 1em; background-color: rgba(141,153,161,0.56); border: 1px solid #dbdbdb ; padding-top: 14px !important; padding-right: 0px !important; padding-bottom: 10px !important; padding-left: 10px !important;margin-top: -1px !important; margin-right: 0px !important; margin-bottom: 0px !important; margin-left: 0px !important; }
.et_pb_blurb_2 .et-pb-icon { font-size: 16px; }
.et_pb_blurb_3.et_pb_blurb h4, .et_pb_blurb_3.et_pb_blurb h4 a { font-size: 14px; }
.et_pb_blurb_3.et_pb_blurb p { line-height: 1em; }
.et_pb_tabs .et_pb_all_tabs .et_pb_tab_4.et_pb_tab { line-height: 2em; }
.et_pb_tabs .et_pb_tab_4.et_pb_tab p { line-height: 2em; }
.et_pb_tabs .et_pb_tabs_controls li.et_pb_tab_4, .et_pb_tabs .et_pb_tabs_controls li.et_pb_tab_4 a { line-height: 2em !important; }
/*.et_pb_tabs .et_pb_tabs_controls li.et_pb_tab_5 a { color: #ffffff !important; }*/
.et_pb_tabs .et_pb_all_tabs .et_pb_tab_5.et_pb_tab { color: #ffffff !important; line-height: 2em; }
.et_pb_tabs .et_pb_all_tabs .et_pb_tab_3.et_pb_tab { line-height: 2em; }
.et_pb_tabs .et_pb_tab_5.et_pb_tab { background-color: #ffffff; }
.et_pb_tabs .et_pb_tab_5.et_pb_tab p { line-height: 2em; }
.et_pb_tabs .et_pb_tabs_controls li.et_pb_tab_5, .et_pb_tabs .et_pb_tabs_controls li.et_pb_tab_5 a { line-height: 2em !important; }
.et_pb_tabs .et_pb_tabs_controls li.et_pb_tab_0, .et_pb_tabs .et_pb_tabs_controls li.et_pb_tab_0 a { line-height: 2em !important; }
.et_pb_tabs .et_pb_tab_1.et_pb_tab p { line-height: 2em; }
.et_pb_tabs .et_pb_tabs_controls li.et_pb_tab_1, .et_pb_tabs .et_pb_tabs_controls li.et_pb_tab_1 a { line-height: 2em !important; }
.et_pb_tabs .et_pb_all_tabs .et_pb_tab_0.et_pb_tab { line-height: 2em; }
.et_pb_tabs .et_pb_tab_0.et_pb_tab p { line-height: 2em; }
.et_pb_tabs .et_pb_all_tabs .et_pb_tab_1.et_pb_tab { line-height: 2em; }
.et_pb_tabs .et_pb_tabs_controls li.et_pb_tab_2, .et_pb_tabs .et_pb_tabs_controls li.et_pb_tab_2 a { line-height: 2em !important; }
.et_pb_tabs .et_pb_tabs_controls li.et_pb_tab_3, .et_pb_tabs .et_pb_tabs_controls li.et_pb_tab_3 a { line-height: 2em !important; }
.et_pb_tabs .et_pb_all_tabs .et_pb_tab_2.et_pb_tab { line-height: 2em; }
.et_pb_tabs .et_pb_tab_2.et_pb_tab p { line-height: 2em; }
.et_pb_tabs .et_pb_tab_3.et_pb_tab p { line-height: 2em; }
            </style><style type="text/css" id="et-builder-page-custom-style">
                 .et_pb_bg_layout_dark { color: #ffffff !important; } .page.et_pb_pagebuilder_layout #main-content { background-color: rgba(255,255,255,0); } .et_pb_section { background-color: #ffffff; }
            </style>

<!-- /#promises -->


<?php echo do_shortcode('[wpdevart_facebook_comment curent_url="http://www.electionpromisestracker.in/' . $wp_query->query['pagename'] . '/" order_type="social" title_text="Facebook Comment" title_text_color="#000000" title_text_font_size="22" title_text_font_famely="monospace" title_text_position="left" width="100%" bg_color="#d4d4d4" animation_effect="random" count_of_comments="3" ]'); ?>

<?php get_footer(); ?>
